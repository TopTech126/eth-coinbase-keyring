{"version":3,"file":"storage.js","sourceRoot":"","sources":["../src/storage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,MAAM,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC;AAExB,MAAa,aAAa;IAGxB,YAAY,KAAa;QAFzB,uCAAe;QAGb,uBAAA,IAAI,wBAAU,KAAK,MAAA,CAAC;IACtB,CAAC;IAEM,OAAO,CAAC,GAAW,EAAE,KAAa;QACvC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;IACxC,CAAC;IAEM,OAAO,CAAC,GAAW;QACxB,OAAO,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;IACxC,CAAC;IAEM,UAAU,CAAC,GAAW;QAC3B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;IACpC,CAAC;IAEM,KAAK;QACV,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;QAClC,MAAM,YAAY,GAAa,EAAE,CAAC;QAClC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE;YACvB,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;gBAC1B,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;QACH,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAC3B,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS,CAAC,GAAW;QACnB,OAAO,GAAG,uBAAA,IAAI,4BAAO,IAAI,GAAG,EAAE,CAAC;IACjC,CAAC;CACF;AAnCD,sCAmCC","sourcesContent":["const store = new Map();\n\nexport class MemoryStorage {\n  #scope: string;\n\n  constructor(scope: string) {\n    this.#scope = scope;\n  }\n\n  public setItem(key: string, value: string): void {\n    store.set(this.scopedKey(key), value);\n  }\n\n  public getItem(key: string): string | null {\n    return store.get(this.scopedKey(key));\n  }\n\n  public removeItem(key: string): void {\n    store.delete(this.scopedKey(key));\n  }\n\n  public clear(): void {\n    const prefix = this.scopedKey('');\n    const keysToRemove: string[] = [];\n    store.forEach((_, key) => {\n      if (key.startsWith(prefix)) {\n        keysToRemove.push(key);\n      }\n    });\n    keysToRemove.forEach((key) => {\n      store.delete(key);\n    });\n  }\n\n  scopedKey(key: string): string {\n    return `${this.#scope}:${key}`;\n  }\n}\n"]}